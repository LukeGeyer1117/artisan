{% extends 'merch_base.html' %}
{% load static %}

{% block title %}Merchant Dashboard{% endblock %}

{% block extra_head %}
  <link rel="stylesheet" href="{% static 'merchant/styles/dashboard.css' %}"/>
{% endblock %}

{% block content %}
  <!-- NAV -->
  {% block nav %}
    {% include 'client/components/merchant/merch-nav/nav.html' with slug=artisan.slug %}
  {% endblock nav %}

  <!-- Main Content -->
  <main class="dashboard-main">
    <!-- Sidebar Links -->
    {% block side-links %}
      {% include 'client/components/merchant/side-links/side-links.html' with slug=artisan.slug %}
    {% endblock side-links %}

    <div id="dashboard-flex-sections">
      <div class="dashboard-flex-section" id="sales-analytics-flex-section">
        <div class="dashboard-flex-section" id="sales-flex-section">
          <div class="dashboard-card" id="sales-amount-card">
            <h3>Sales Amount</h3>
            <p class="stat-value"></p>
          </div>
          <div class="dashboard-card" id="sales-volume-card">
            <h3>Completed Orders</h3>
            <p class="stat-value"></p>
          </div>
        </div>
        <div class="dashboard-card" id="analytics-card">
          <div class="chart-header">
            <h3>Order Analytics</h3>
            <select name="timeframe" id="timeframe">
              <option value="3">3 Days</option>
              <option value="7" selected>Past Week</option>
              <option value="30">Past Month</option>
              <option value="90">3 Months</option>
            </select>
          </div>
          <div style="height: 95%; width: 100%;">
            <canvas id="analytics-chart"></canvas>
          </div>
        </div>
      </div>

      <div class="dashboard-flex-section" id="orders-flex-section">
        <div class="dashboard-card" id="pending-orders-card">
          <h3>Pending Orders</h3>
          <p class="stat-value"></p>
        </div>
        <div class="dashboard-card" id="incomplete-orders-card">
          <h3>Incomplete Orders</h3>
          <p class="stat-value"></p>
        </div>
        <div class="dashboard-card" id="custom-requests-card">
          <h3>Custom Requests</h3>
          <p class="stat-value"></p>
        </div>
      </div>
    </div>


  </main>
{% endblock %}

{% block extra_scripts %}
  <script type="module" src="{% static 'merchant/scripts/dashboard.js' %}"></script>
  <script>
    const window_location = 'Dashboard';
    const active_URL = "/media/icons/active/dashboard_purple.svg"
  </script>
  <script type="module" src="{% static 'merchant/scripts/common.js' %}"></script>
{% endblock %}

